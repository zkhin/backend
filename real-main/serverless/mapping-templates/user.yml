- type: User
  field: photo
  dataSource: LambdaDataSource
  request: false
  response: Lambda.response.vtl
  caching:
    keys:
      - $context.source.photoPostId
    ttl: 3600

- type: User
  field: followerStatus
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: followCountsHidden
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: followedsCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: followersCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: followedUsers
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.followStatus
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: followedUsersWithStories
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: followerUsers
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.followStatus
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: postCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: userStatus
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: languageCode
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: themeCode
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: bio
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: subscriptionLevel
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: subscriptionExpiresAt
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: email
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: phoneNumber
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: acceptedEULAVersion
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: adsDisabled
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: commentsDisabled
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: likesDisabled
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: sharingDisabled
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: verificationHidden
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: blockedStatus
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: viewCountsHidden
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: feed
  request: User.feed/before.request.vtl
  response: PassThru.response.vtl
  kind: PIPELINE
  functions:
    - User.feed.getAdsDisabled
    - User.feed.getFeed
    - User.feed.getPosts
    - User.feed.getAdFeed

- type: User
  field: stories
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: posts
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.postStatus
      - $context.args.postType
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: postsWithUnviewedComments
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: postViewedByCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: onymouslyLikedPosts
  dataSource: DynamodbDataSource
  request: User.likedPosts.request.vtl
  response: User.likedPosts.response.vtl
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: anonymouslyLikedPosts
  dataSource: DynamodbDataSource
  request: User.likedPosts.request.vtl
  response: User.likedPosts.response.vtl
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: blockedUsers
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: cardCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: cards
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: albumCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: albums
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.args.reverse
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: chatCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: chatsWithUnviewedMessagesCount
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: chats
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: directChat
  dataSource: DynamodbDataSource
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: location 
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: matchAgeRange
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: matchGenders
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: matchLocationRadius
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: matchHeightRange
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: datingStatus
  dataSource: NoneDataSource
  response: PassThru.response.vtl

- type: User
  field: matchStatus
  dataSource: DynamodbMatchesDataSource
  caching:
    keys:
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: matchedUsers
  dataSource: DynamodbMatchesDataSource
  caching:
    keys:
      - $context.args.matchStatus
      - $context.args.limit
      - $context.args.nextToken
      - $context.identity.cognitoIdentityId
      - $context.source.userId

- type: User
  field: lastFoundContactsAt
  dataSource: NoneDataSource
  response: PassThru.response.vtl
